<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>No Smoking 2025 - Jacob Samuel Kelly</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    font-family: Helvetica, Arial, sans-serif;
    height: 100%;
    width: 100%;
    background: #fff;
    color: #111;
    overflow: hidden;
  }

  body {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
  }

  .text-area {
    width: 30%;
    padding: 40px;
    box-sizing: border-box;
    font-size: 1em;
    line-height: 1.6;
    color: #555;
    overflow-y: auto;
    height: 100vh;
    z-index: 1;
    position: relative;
  }

  .image-area {
    width: 70%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: zoom-in;
    position: relative;
  }

  .image-area img {
    max-width: 100%;
    max-height: 100%;
    transition: transform 0.3s ease;
  }

  a.back {
    display: inline-block;
    margin-top: 20px;
    text-decoration: none;
    color: #111;
    font-weight: bold;
    letter-spacing: 1px;
  }

  .zoom-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    z-index: 9999;
    cursor: grab;
  }

  .zoom-overlay img {
    position: absolute;
    top: 0;
    left: 0;
    will-change: transform;
    user-select: none;
    -webkit-user-drag: none;
  }
</style>
</head>
<body>

<div class="text-area">
  <h1>No Smoking 2025</h1>
  <p><strong>Digital Painting</strong></p>
  <p>Praying Mantis, Graffiti, waiting room.</p>
  <a href="index.html" class="back">‚Üê Back to Portfolio</a>
</div>

<div class="image-area">
  <img src="images/layer1.png" alt="No Smoking 2025">
</div>

<script>
const img = document.querySelector('.image-area img');
const infoPanel = document.querySelector('.text-area');
const zoomFactor = 4;

img.addEventListener('click', (e) => {
  // Hide info panel
  infoPanel.style.display = 'none';

  // Create overlay
  const overlay = document.createElement('div');
  overlay.className = 'zoom-overlay';
  document.body.appendChild(overlay);

  // Clone the image
  const zoomImg = img.cloneNode();
  overlay.appendChild(zoomImg);

  // Set natural size
  zoomImg.style.width = img.naturalWidth + 'px';
  zoomImg.style.height = img.naturalHeight + 'px';

  // Calculate cursor ratio
  const rect = img.getBoundingClientRect();
  const offsetX = (e.clientX - rect.left) / rect.width;
  const offsetY = (e.clientY - rect.top) / rect.height;

  // Apply initial scale and translation
  const scale = zoomFactor;
  zoomImg.style.transformOrigin = `${offsetX * 100}% ${offsetY * 100}%`;
  zoomImg.style.transform = `scale(${scale}) translate(0px, 0px)`;

  let startX, startY, currentX = 0, currentY = 0, dragging = false;

  // Drag to pan
  overlay.addEventListener('mousedown', (ev) => {
    dragging = true;
    startX = ev.clientX;
    startY = ev.clientY;
    overlay.style.cursor = 'grabbing';
  });

  overlay.addEventListener('mousemove', (ev) => {
    if (!dragging) return;
    ev.preventDefault();
    const dx = ev.clientX - startX;
    const dy = ev.clientY - startY;
    zoomImg.style.transform = `scale(${scale}) translate(${currentX + dx}px, ${currentY + dy}px)`;
  });

  overlay.addEventListener('mouseup', (ev) => {
    if (!dragging) return;
    const dx = ev.clientX - startX;
    const dy = ev.clientY - startY;
    currentX += dx;
    currentY += dy;
    dragging = false;
    overlay.style.cursor = 'grab';
  });

  overlay.addEventListener('mouseleave', () => {
    dragging = false;
    overlay.style.cursor = 'grab';
  });

  // Click overlay to exit
  overlay.addEventListener('click', () => {
    document.body.removeChild(overlay);
    infoPanel.style.display = 'block';
  });
});
</script>

</body>
</html>